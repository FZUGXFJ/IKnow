<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>分区</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/global.css">
    <link rel="stylesheet" href="../css/mobile/index.css">
    <link rel="stylesheet" type="text/css" href="../css/mobile/search/search.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://lib.baomitu.com/font-awesome/5.11.2/css/all.min.css">
    <script type="text/javascript" src="https://lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://lib.baomitu.com/vue/2.6.10/vue.min.js"></script>
</head>
<body>
<div id="chosePart">
    <div id="homeHeader">
        <table>
            <td style="width: 85%">
                <div id="searchBox" @click="toSearch">
                    <i class="fas fa-search" style="color: #acacac"></i>
                    <span id="recSearch">@IKnow发布啦</span>
                </div>
            </td>
            <td style="width: 3%"></td>
            <td style="width: 12%;text-align: center">
                <div class="headPortrait" v-html="user.head" @click="toMyPage"></div>
            </td>
        </table>
        <br>
        <table>
            <td class="select" @click="">
                <h6>推荐</h6>
            </td>
            <td class="select selected" @click="">
                <h6>分区</h6>
            </td>
        </table>
    </div>
</div>
<br><br><br><br><br>
<div style="text-align: center">
    <h6>{{text}}</h6>
</div>
<div>

</div>
<div id="footer">
    <table>
        <td style="width: 33%;text-align: center">
            <i class="fas fa-home selected" @click="toRecommend"></i>
            <div>首页</div>
        </td>
        <td style="width: 34%;text-align: center">
            <i class="fas fa-plus" style="color: #12eee7" @click="add"></i>
            <div>添加</div>
        </td>
        <td style="width: 33%;text-align: center">
            <i class="fas fa-user" @click="toMyPage"></i>
            <div>我的</div>
        </td>
    </table>
</div>
<script>
    let chosePart = new Vue({
        el:"#chosePart",
        data:{
            user:{
                head:"<img src='../head/14.jpg' width='100%' height='100%' style='border-radius: 100%' alt=''>",
                id:14
            },
            text:"请选择门类分类",
            categories:[],
            subjects:[],
            majors:[]
        },
        methods:{
            toSearch:function () {
                location.href = "search/search.html";
            },
            toMyPage:function () {
                if (this.loading === 0) {
                    return;
                }
                if (this.user.id === 0) {
                    location.href = "user/login.html?boot=1";
                } else {
                    location.href = "my.html";
                }
            },
            toRecommend:function () {
                sessionStorage.clear();
                location.href = "home.html"
            },
            add:function () {
                if (this.loading === 0) {
                    return;
                }
                if (this.user.id === 0) {
                    location.href = "user/login.html?boot=0";
                } else {
                    location.href = "add.html";
                }
            },
            getCategories:function () {
                $.ajax({
                    url:"",
                    type:"POST",
                    data:{},
                    dataType:"json",
                    success:function (result) {

                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                        homePage.loading = 2;
                    }
                });
            },
            getSubjects:function () {
                $.ajax({
                    url:"",
                    type:"POST",
                    data:{},
                    dataType:"json",
                    success:function (result) {

                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                        homePage.loading = 2;
                    }
                });
            },
            getMajors:function () {
                $.ajax({
                    url:"",
                    type:"POST",
                    data:{},
                    dataType:"json",
                    success:function (result) {

                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                        homePage.loading = 2;
                    }
                });
            }
        },
        mounted:function () {
            if(sessionStorage.getItem("user") != null) {
                this.user = sessionStorage.getItem("user");
            }
        }
    });
</script>
</body>
</html>