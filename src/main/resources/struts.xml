<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
        "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
        <constant name="struts.enable.DynamicMethodInvocation"
                  value="false" />
        <constant name="struts.devMode" value="true" />
        <constant name="struts.configuration.xml.reload" value="true" />

        <package abstract="true" name="default" extends="struts-default">
            <interceptors>
                <interceptor-stack name="auth-dafault">
                    <interceptor-ref name="defaultStack" />
                </interceptor-stack>
            </interceptors>
            <default-interceptor-ref name="auth-dafault" />
            <global-results>
                <result name="error">/error.html</result>
            </global-results>
            <global-exception-mappings>
                <exception-mapping exception="java.lang.Exception" result="error" />
            </global-exception-mappings>
        </package>

        <package name="user" namespace="/user" extends="default">
            <action name="sendEmail" class="org.gxfj.iknow.action.UserAction" method="sendEmail">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
            <action name="logon" class="org.gxfj.iknow.action.UserAction" method="logon">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
            <action name="passwordLogin" class="org.gxfj.iknow.action.UserAction" method="passwordLogin">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
            <action name="emailLogin" class="org.gxfj.iknow.action.UserAction" method="emailLogin">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
            <action name="userInf" class="org.gxfj.iknow.action.UserAction" method="userInf">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
            <action name="editInf" class="org.gxfj.iknow.action.UserAction" method="editInf">
                <result name="success" type="stream">
                    <param name="contentType">application/json;charset=utf-8</param>
                    <param name="inputName">inputStream</param>
                </result>
            </action>
        </package>

    <package name="question" namespace="/question" extends="default">
        <action name="addQuestion" class="org.gxfj.iknow.action.QuestionAction" method="addQuestion">
            <result name="success" type="stream">
                <param name="contentType">application/json;charset=utf-8</param>
                <param name="inputName">inputStream</param>
            </result>
        </action>
    </package>
</struts>
